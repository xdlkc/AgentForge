# Project Constitution

> 本文档定义了项目的基本原则、技术栈和开发标准。所有 AI 操作和开发决策都必须遵循这些准则。

## 1. 项目概述

### 1.1 项目信息
- **项目名称**: [项目名称]
- **项目类型**: [类型]
- **创建日期**: [日期]

### 1.2 项目愿景
[项目愿景描述]

---

## 2. 技术栈

### 2.1 核心语言
- **主要语言**: [语言版本]
- **类型检查**: [工具]
- **代码格式化**: [工具]
- **代码风格**: [标准]

### 2.2 后端技术
- **Web 框架**: [框架]
- **数据库**: [数据库]
- **ORM**: [ORM]
- **缓存**: [缓存]
- **任务队列**: [队列]

### 2.3 前端技术
- **框架**: [框架]
- **状态管理**: [状态管理]
- **UI 库**: [UI库]
- **构建工具**: [工具]

### 2.4 测试
- **单元测试**: [框架]
- **覆盖率**: [>= 80%]
- **E2E 测试**: [工具]

### 2.5 部署
- **容器**: [Docker]
- **CI/CD**: [工具]

---

## 3. 架构原则

### 3.1 分层架构
```
API Layer (Routers/Controllers)
    ↓
Service Layer (Business Logic)
    ↓
Repository Layer (Data Access)
    ↓
Database
```

### 3.2 设计原则
- **单一职责**: 每个模块/函数只做一件事
- **依赖注入**: 使用构造函数注入依赖
- **接口隔离**: 定义清晰的接口契约
- **异步优先**: 所有 I/O 操作使用 async/await
- **类型安全**: 100% 类型注解覆盖

---

## 4. 开发标准

### 4.1 代码质量
- 所有代码必须通过格式化工具
- 所有代码必须通过类型检查
- 单元测试覆盖率不低于 80%
- 复杂函数必须有文档字符串

### 4.2 提交规范
使用 Conventional Commits：
```
<type>(<scope>): <subject>
```

类型：`feat`, `fix`, `docs`, `style`, `refactor`, `test`, `chore`

### 4.3 分支策略
- `main`: 生产分支
- `develop`: 开发分支
- `feature/*`: 功能分支
- `bugfix/*`: 修复分支

---

## 5. 安全规范

### 5.1 认证授权
- 所有 API 端点必须认证（除明确标注的公开端点）
- 使用 JWT 进行身份验证
- 实施基于角色的访问控制 (RBAC)

### 5.2 数据安全
- 密码使用 bcrypt 哈希
- 敏感数据加密存储
- 使用参数化查询防止 SQL 注入

### 5.3 传输安全
- 所有通信使用 HTTPS/TLS
- 实施 CORS 策略

---

## 6. 性能标准

- API 响应时间 P95 < 200ms
- 页面加载时间 < 3秒
- 支持 1000+ 并发用户

---

## 7. 变更记录

| 日期 | 版本 | 变更内容 | 作者 |
|------|------|----------|------|
| [日期] | 1.0.0 | 初始版本 | [作者] |

---

*本文档是活文档，会随着项目发展而更新。*
